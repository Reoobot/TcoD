<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora de Velocidad con Variación de W y L</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
        padding: 0;
        box-sizing: border-box;
    }
    h2 {
        margin-bottom: 10px;
    }
    label {
        font-weight: bold;
    }
    input[type="text"] {
        padding: 5px;
        width: 100px;
    }
    button {
        margin-top: 10px;
        padding: 8px 20px;
        background-color: #4CAF50;
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 10px;
    }
    button:hover {
        background-color: #45a049;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: center;
    }
    th {
        background-color: #f2f2f2;
    }
    .valor-inicial {
        font-weight: bold;
    }
    .regresar,a{
       margin-top: 10px;
       color: white;
       text-decoration:none;
    }
</style>
</head>
<body>
    <h2>Calculadora de Velocidad con Variación de W y L</h2>
    <div>
        <label for="velocidad">Velocidad actual (km/h):</label>
        <input type="text" id="velocidad" placeholder="Ej. 11.7">
    </div>
    <div>
        <label for="w">W actual:</label>
        <input type="text" id="w" placeholder="Ej. 7889">
    </div>
    <div>
        <label for="l">L actual:</label>
        <input type="text" id="l" placeholder="Ej. 3284">
    </div>
    <button onclick="calcularVelocidades()">Calcular</button>

    <div id="resultados">
        <h3>Resultados</h3>
        <table>
            <thead>
                <tr>
                    <th>Variación</th>
                    <th>W</th>
                    <th>L</th>
                    <th>Nueva Velocidad (km/h)</th>
                </tr>
            </thead>
            <tbody id="tablaResultados">
                
            </tbody>
        </table>
    </div>
    <button class="regresar"><a href="index.html">REGRESAR</a></button>
    <script>
        function calcularVelocidades() {
            // Obtener los valores ingresados
            const velocidad_actual = parseFloat(document.getElementById('velocidad').value);
            const W_actual = parseFloat(document.getElementById('w').value);
            const L_actual = parseFloat(document.getElementById('l').value);

            // Calcular nuevas velocidades con aumentos y disminuciones del 1%, 2%, 3% y 4%
            const porcentajes = [4, 3, 2, 1, 0, -1, -2, -3, -4];
            const resultados = [];

            porcentajes.forEach(porcentaje => {
                const esInicial = porcentaje === 0;
                const aumento = porcentaje / 100;

                // Calcular valores según la variación
                let nuevaVelocidad = velocidad_actual;
                let nuevoW = W_actual;
                let nuevoL = L_actual;

                if (!esInicial) {
                    nuevaVelocidad = velocidad_actual * (1 - aumento);
                    nuevoW = W_actual * (velocidad_actual / nuevaVelocidad);
                    nuevoL = L_actual * (nuevaVelocidad / velocidad_actual);
                }

                // Guardar resultado
                resultados.push({
                    porcentaje: esInicial ? 'Valor Inicial' : `${porcentaje}%`,
                    nuevoW: nuevoW.toFixed(0),
                    nuevoL: nuevoL.toFixed(0),
                    nuevaVelocidad: nuevaVelocidad.toFixed(1),
                    esInicial: esInicial
                });
            });

            // Mostrar resultados en la tabla HTML
            const tablaResultados = document.getElementById('tablaResultados');
            tablaResultados.innerHTML = '';

            resultados.forEach(resultado => {
                const fila = `<tr>
                                <td>${resultado.porcentaje}</td>
                                <td>${resultado.esInicial ? '<span class="valor-inicial">' + resultado.nuevoW + '</span>' : resultado.nuevoW}</td>
                                <td>${resultado.esInicial ? '<span class="valor-inicial">' + resultado.nuevoL + '</span>' : resultado.nuevoL}</td>
                                <td>${resultado.esInicial ? '<span class="valor-inicial">' + resultado.nuevaVelocidad + '</span>' : resultado.nuevaVelocidad}</td>
                              </tr>`;
                tablaResultados.innerHTML += fila;
            });
        }
    </script>
</body>
</html>
